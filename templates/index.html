<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title></title>
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.0/semantic.min.css" integrity="sha256-9mbkOfVho3ZPXfM7W8sV2SndrGDuh7wuyLjtsWeTI1Q=" crossorigin="anonymous" />
    <link rel="stylesheet" type="text/css" href="css/ivprog-visual-1.0.css">
    <link rel="stylesheet" type="text/css" href="css/ivprog-term.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"
      integrity="sha256-KM512VNnjElC30ehFwehXjx1YCHPiQkOPmqnrWtpccM="
      crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.0/semantic.min.js" integrity="sha256-x1fC6BXl6BwnUhfQqqqC0Fd/n12wH+u8u9va6+E7xaA=" crossorigin="anonymous"></script>
    <script src="js/Sortable.js"></script>
    <script src="js/iassign-integration-functions.js"></script>
  </head>
  <body>

    <div class="ui height_100 add_accordion" id="ui_main_div">

      <div class="title default_visual_title">
        <i class="dropdown icon"></i>
      </div>

    <div class="content height_100">
   
      <div class="ui raised container segment div_to_body">

        <div class="ui container main_title only_in_frame">
          <h2>iVProg</h2>
        </div>

        <div class="ui icon menu center aligned container" style="width: 438px; margin-top: -20px;">
          <a class="item active visual_coding_button">
            <i class="window maximize outline icon"></i>
          </a>
          <a class="item textual_coding_button">
            <i class="code icon"></i>
          </a>
          <a class="item upload_file_button disabled">
            <i class="upload icon"></i>
          </a>
          <a class="item download_file_button disabled">
            <i class="download icon"></i>
          </a>
          <a class="item undo_button disabled">
            <i class="undo icon"></i>
          </a>
          <a class="item redo_button disabled">
            <i class="redo icon"></i>
          </a>
          <a class="item run_button">
            <i class="play icon"></i>
          </a>
          <a class="item assessment assessment_button">
            <i class="check icon"></i>
          </a>
          <!--<a class="item expand_button">
            <i class="expand arrows alternate icon"></i>
          </a>-->
          <a class="item help_button">
            <i class="help icon"></i>
          </a>
        </div>

        <div class="ui one column container segment ivprog_visual_panel loading">

          <div class="global_var">


            <div class="ui icon button add-globalVar-button add_global_button purple">

              <i class="icons">
                <i class="icon superscript" style="margin-top: -2px;margin-bottom: 2px;margin-left: 1px;margin-right: 1px; font-size: 18px;"></i>
                <i class="corner add icon inverted" style="font-size: 10px;padding-top: 5px;padding-left: 7px;"></i>
              </i>
              
            </div>

            <div class="list_globals" id="listGlobalsHandle"></div>

          </div>

          <div class="all_functions list-group" id="listWithHandle">

          </div>


          <div class="ui teal small labeled icon button add_function_button">
            <data class="i18n" value="ui:btn_function">Function</data>
            <i class="add icon"></i>
          </div>
          <div class="program_final"></div>

        </div>


        <div class="ui one column container segment ivprog_textual_panel loading" style="display: none;">
          <textarea class="ivprog_textual_code" readonly></textarea>
        </div>
        <div id='ivprog-term-div' class="six column wide">
          
        </div>
      </div>

    </div>
    <script src="js/iassign-integration-functions.js"></script>
  </div>
  </body>
  <script>
    var mouseX;
    var mouseY;
    $(document).ready(() => {
      var $buttons = $('.ivprog_format .button'), 
        handler = {
          activate: function () {
            $(this)
              .addClass('active')
              .siblings()
              .removeClass('active');
          }
        };

      $buttons.on('click', handler.activate);

      $('.ivprog_format_info').popup(
        {
          popup: $('.custom.popup'),
          on: 'click'
        });

      $(".data_types_dropdown").dropdown();

      $('.ui.dropdown').dropdown();

      $('.ivprog_visual_panel').removeClass("loading");

      $(document).mousemove(function (e) {
        var parentOffset = $('.ivprog_visual_panel').offset();;
        mouseX = e.pageX - parentOffset.left + 300;
        mouseY = e.pageY - parentOffset.top + 100;
        /*$('.created_element').css('top', mouseY);
        $('.created_element').css('left', mouseX);*/
      });
      ivprogCore.LocalizedStrings.updateTagText();
      iassingIntegration();
      if (iLMparameters.iLM_PARAM_TeacherAutoEval == null) {
        ivprogCore.initVisualUI();
      }
    });
  </script>
</html>